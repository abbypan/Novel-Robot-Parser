=pod

=encoding utf8

=head1 NAME

L<Novel::Robot::Parser> 小说站点解析引擎

=head1 INIT

=head2 site

支持小说站点

L<asxs|http://www.23hh.com> 爱尚

L<dddbbb|http://www.dddbbb.net> 豆豆

L<dingdian|http://www.23us.com> 顶点

L<jjwxc|http://www.jjwxc.net> 晋江

L<luoqiu|http://www.luoqiu.com> 落秋

L<kanunu|http://book.kanunu.org> 努努

L<qidian|http://read.qidian.com> 起点

L<shunong|http://book.shunong.com> 书农

L<snwx|http://www.snwx.com> 少年文学


=head2 new

初始化解析模块

   my $url = 'http://www.jjwxc.net/onebook.php?novelid=2456';

   #直接指定站点
   my $parser = Novel::Robot::Parser->new( site => 'jjwxc' );
    
   #通过url自动检测站点
   my $parser = Novel::Robot::Parser->new( site => $url );

   $parser->get_index_ref($url);

=head1 NOVEL FUNCTION

=head2 get_index_ref 获取目录页信息

    my $index_ref = $parser->get_index_ref($index_url, %opt);

=head2 parse_index 解析目录页

   my $index_ref = $parser->parse_index($index_html_ref);

=head2 get_chapter_ref 获取章节页信息

    my $chapter_url = 'http://m.jjwxc.net/book2/2456/2';
    my $chapter_ref = $parser->get_chapter_ref($chapter_url, 2);

=head2 parse_chapter 解析章节页
  
   my $chapter_ref = $parser->parse_chapter($chapter_html_ref);

=head1 TIEZI FUNCTION

=head2 get_tiezi_ref 获取贴子

=head2 parse_tiezi 获取帖子信息

=head2 parse_tiezi_floors 获取帖子楼层

=head2 parse_tiezi_urls 获取帖子分页

=head1 BOARD FUNCTION

=head2 get_board_ref 获取版块信息

=head2 parse_board 获取版块标题

=head2 parse_board_tiezis 获取版块帖子url

=head2 parse_board_urls 获取版块分页url

=head2 parse_board_subboards 获取子版块url

=head1 WRITER FUNCTION

=head2 get_writer_ref 获取作者页信息

    my $writer_url = 'http://www.jjwxc.net/oneauthor.php?authorid=3243';
    my ($writer_name, $novels_ref) = $parser->get_writer_ref($writer_url);

=head2 parse_writer 解析作者名

    my $writer_name = $parser->parse_writer($writer_html_ref);

=head2 parse_writer_novels 解析作者专栏中的小说

    my $novels_ref = $parser->parse_writer_novels($writer_html_ref);

=head1 QUERY FUNCTION

=head2 get_query_ref 获取查询结果

    my $query_type = '作者';
    my $query_keyword = '顾漫';

    my ($info, $items_ref) = $parser->get_query_ref( $query_keyword, 
        query_type => $query_type );

=head2 make_query_request 指定查询请求

  my ($query_url, $post_data) = 
        $parser->make_query_request( $query_keyword, 
        query_type => $query_type );

=head2 parse_query 解析查询结果标题

  my $query_title = $parser->parse_query($query_html_ref); 

=head2 parse_query_items 解析查询结果列表，例如小说url

  my $items_ref = $parser->parse_query_items($query_html_ref); 

=head2 parse_query_urls 查询结果为分页url

  my $urls_ref = $parser->parse_query_urls($query_html_ref);

=cut

